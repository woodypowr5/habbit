<mat-card class="chart-parent-container">
  <div class="chart-container">
      <ngx-charts-bubble-chart
      [scheme]="colorScheme"
      [results]="filteredSeriesData"
      [xAxis]="showXAxis"
      [yAxis]="showYAxis"
      [legend]="showLegend"
      [showXAxisLabel]="showXAxisLabel"
      [showYAxisLabel]="showYAxisLabel"
      [xAxisLabel]="xAxisLabel"
      [yAxisLabel]="yAxisLabel"
      [autoScale]="autoScale"
      (select)="onSelect($event)">
      </ngx-charts-bubble-chart>
  </div>
</mat-card>    

<mat-card 
  class="chart-controls-container"
  fxLayout
  fxLayoutAlign="space-between"
  fxLayoutGap="20px"
  >
  <mat-card class="series-visibility">

      <mat-card-title>Visible Data:</mat-card-title>
      <mat-button-toggle-group 
          [(ngModel)]="visibleSeries"
          multiple 
          (change)="seriesVisibilityChanged($event)"
      >
          <mat-button-toggle 
              value="{{marker.name}}" 
              *ngFor="let marker of plan.markers"
          >
              {{ marker.name }}
          </mat-button-toggle>

      </mat-button-toggle-group>
  </mat-card> 
  <mat-card class="trend-type">
      <mat-card-title>Trend Type:</mat-card-title>
      <mat-button-toggle-group 
          [(ngModel)]="selectedTrendType"
          value="raw" 
          (change)="trendTypeChanged($event)"
      >
          <mat-button-toggle value="simpleComparison">
              Simple Comparison
              <app-tooltip 
                  [displayText]="tooltipText.chartTypeButtons.simpleComparison"
                  [id]="tooltipSimpleComparison"
                  [type]="'description'"
              ></app-tooltip>
          </mat-button-toggle>
          
          <mat-button-toggle value="correlationProfile">
              Correlation Profile
              <app-tooltip 
                  [displayText]="tooltipText.chartTypeButtons.correlationProfile"
                  [id]="tooltipCorrelationProfile"
                  [type]="'description'"
              ></app-tooltip>
          </mat-button-toggle>
          
          <mat-button-toggle value="bayesianAnalysis">
              Bayesian Anaylsis
              <app-tooltip 
                  [displayText]="tooltipText.chartTypeButtons.bayesianAnalysis"
                  [id]="tooltipBayesianAnalysis"
                  [type]="'description'"
              ></app-tooltip>
          </mat-button-toggle>

      </mat-button-toggle-group>
  </mat-card> 
</mat-card> 